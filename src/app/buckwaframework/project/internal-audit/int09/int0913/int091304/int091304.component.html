<with-breadcrumb [breadcrumb]="breadcrumb">
  <segment header="สรุปค่าใช้จ่ายค่าสาธารณูปโภค" [loading]="loading">

    <form [formGroup]="formSearch">
      <div class="ui form">
        <div class="ui grid">
          <div class="sixteen wide column">
            <!-- row 1 -->
            <div inline>
              <div field [col]="5">
                <!-- some thing -->
              </div>
              <div field [col]="2">
                <label class="text-right full-width">ปีงบประมาณ</label>
              </div>
              <div field [col]="2">
                <div class="ui calendar" id="budgetYearCld">
                  <div class="ui input left icon">
                    <i class="calendar alter nate outline icon"></i>
                    <input type="text" formControlName="budgetYear" autocomplete="off" placeholder="ปปปป" readonly>
                  </div>
                </div>
              </div>
              <!-- <div field [col]="2">
                <label class="text-right full-width">จำนวนทั้งสิ้น</label>
              </div>
              <div field [col]="2">
                <input formControlName="totalDepartment" type="text">
              </div>
              <div field [col]="1">
                <label class="full-width">หน่วยงาน</label>
              </div> -->
            </div>
          </div>
        </div>
      </div>

      <div class="ui center aligned grid">
        <div class="column">
          <app-button-export></app-button-export>
          <app-button-back (click)="routeTo('/int09/13/03')"></app-button-back>
        </div>
      </div>
      <br>
    </form>

    <div class="sixteen wide column">
      <table class="ui small celled nowrap table striped selectable" style="width:100%">
        <thead>
          <tr class="text-center">
            <th rowspan="2">ค่าสาธารณูปโภค</th>
            <th colspan="4">ไตรมาสที่ 1</th>
            <th colspan="4">ไตรมาสที่ 2</th>
            <th colspan="4">ไตรมาสที่ 3</th>
            <th colspan="4">ไตรมาสที่ 4</th>
          </tr>
          <tr class="text-center">
            <!-- ไตรมาส 1 -->
            <th>ต.ค {{formSearch.get('budgetYear').value - 1}}</th>
            <th>พ.ย. {{formSearch.get('budgetYear').value - 1}}</th>
            <th>ธ.ค. {{formSearch.get('budgetYear').value - 1}}</th>
            <th>รวม</th>

            <!-- ไตรมาส 2 -->
            <th>ม.ค {{formSearch.get('budgetYear').value}}</th>
            <th>ก.พ. {{formSearch.get('budgetYear').value}}</th>
            <th>มี.ค. {{formSearch.get('budgetYear').value}}</th>
            <th>รวม</th>

            <!-- ไตรมาส 3 -->
            <th>เม.ย. {{formSearch.get('budgetYear').value}}</th>
            <th>พ.ค. {{formSearch.get('budgetYear').value}}</th>
            <th>มิ.ย. {{formSearch.get('budgetYear').value}}</th>
            <th>รวม</th>

            <!-- ไตรมาส 4 -->
            <th>ก.ค {{formSearch.get('budgetYear').value}}</th>
            <th>ส.ค. {{formSearch.get('budgetYear').value}}</th>
            <th>ก.ย. {{formSearch.get('budgetYear').value}}</th>
            <th>รวม</th>
          </tr>
        </thead>
        <tbody *ngIf="data.quarter.length > 1">
          <!-- row1 -->
          <tr *ngFor="let d of data.quarter; let i = index" [ngClass]="{'showTotal': i == 6}">
            <td *ngIf="i<6">
              <a style="cursor: pointer; color: black"
                (click)="routeTo('/int09/13/05', d.ubillType, formSearch.get('budgetYear').value)">{{ i+1 }}.{{ d.ubillTypeStr }}
              </a>
            </td>
            <td *ngIf="i==6">{{ d.ubillTypeStr }}</td>
            <td class="text-right">{{ d.q1Oct | isEmpty }}</td>
            <td class="text-right">{{ d.q1Nov | isEmpty }}</td>
            <td class="text-right">{{ d.q1Dec | isEmpty }}</td>
            <td class="text-right showTotal">{{ d.q1Total | isEmpty }}</td>
            <td class="text-right">{{ d.q2Jan | isEmpty }}</td>
            <td class="text-right">{{ d.q2Feb | isEmpty }}</td>
            <td class="text-right">{{ d.q2Mar | isEmpty }}</td>
            <td class="text-right showTotal">{{ d.q2Total | isEmpty }}</td>
            <td class="text-right">{{ d.q3Apr | isEmpty }}</td>
            <td class="text-right">{{ d.q3May | isEmpty }}</td>
            <td class="text-right">{{ d.q3Jun | isEmpty }}</td>
            <td class="text-right showTotal">{{ d.q3Total | isEmpty }}</td>
            <td class="text-right">{{ d.q4Jul | isEmpty }}</td>
            <td class="text-right">{{ d.q4Aug | isEmpty }}</td>
            <td class="text-right">{{ d.q4Sep | isEmpty }}</td>
            <td class="text-right showTotal">{{ d.q4Total | isEmpty }}</td>
          </tr>

        </tbody>

        <tbody *ngIf="data.quarter.length <= 1">
          <tr>
            <td class="text-center" colspan="17">ไม่พบข้อมูล</td>
          </tr>
        </tbody>

      </table>

    </div>


  </segment>
</with-breadcrumb>