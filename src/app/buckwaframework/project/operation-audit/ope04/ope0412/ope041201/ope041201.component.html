<with-breadcrumb [breadcrumb]="breadcrumb">
     <segment header="รายละเอียดผู้ประกอบการสุรากลั่นชุมชน" [loading]="false">
          <div grid>
               <div [column]="16">
                    <div form [formGroup]="form">
                         <div inline>
                              <div field [col]="2">
                                   <label class="full-width text-left">
                                        ผู้ประกอบการ
                                   </label>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="oldCustomer" formControlName="oldCustomer" disabled
                                             value="N">
                                        <label>รายใหม่</label>
                                   </div>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="oldCustomer" formControlName="oldCustomer" disabled
                                             value="Y">
                                        <label>รายเก่า</label>
                                   </div>
                              </div>
                         </div>

                         <div inline>
                              <div field [col]="2">
                                   <label class="full-width text-left">
                                        ประเภทผู้ประกอบการ
                                   </label>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="identifyType" formControlName="identifyType" disabled
                                             value="P">
                                        <label>บุคคลธรรมดา</label>
                                   </div>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="identifyType" formControlName="identifyType" disabled
                                             value="C">
                                        <label>นิติบุคคล</label>
                                   </div>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="identifyType" formControlName="identifyType" disabled
                                             value="O">
                                        <label>กิจการร่วมทุน/กิจการร่วมค้า</label>
                                   </div>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="identifyType" formControlName="identifyType" disabled
                                             value="O2">
                                        <label>คณะบุคคล</label>
                                   </div>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="identifyType" formControlName="identifyType" disabled
                                             value="O3">
                                        <label>หน่วยงานราชการ/อื่นๆ</label>
                                   </div>
                              </div>
                         </div>
                         <div inline>
                              <div field [col]="3">
                                   <label class="full-width text-left">ชื่อ</label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="name" formControlName="name" class="custom-readonly"
                                             readonly>
                                   </div>
                              </div>
                              <div field [col]="1"></div>
                              <div field [col]="2">
                                   <label class="full-width text-left">ชื่อผู้ประกอบการ</label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="companyName" formControlName="companyName"
                                             class="custom-readonly" readonly>
                                   </div>
                              </div>
                         </div>
                         <div inline>
                              <div field [col]="3">
                                   <label
                                        class="full-width text-left">เลขที่บัตรประจำตัวประชาชน/ทะเบียนนิติบุคคล</label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="identifyNo" formControlName="identifyNo"
                                             class="custom-readonly" readonly>
                                   </div>
                              </div>
                              <div field [col]="1"></div>
                              <div field [col]="2">
                                   <label class="full-width text-left">
                                        ที่อยู่
                                   </label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="address" formControlName="address"
                                             class="custom-readonly" readonly>
                                   </div>
                              </div>
                         </div>
                         <div inline>
                              <div field [col]="3">
                                   <label class="full-width text-left">
                                        สถานที่เก็บสุรากลั่นชุมชน
                                   </label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="warehouseAddress" formControlName="warehouseAddress"
                                             class="custom-readonly" readonly>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>
               <div [column]="3" style="padding: 0 1rem">
                    <button class="ui button custom-menu" type="button" (click)="munuHide()">
                         <i class="bars icon"></i>รายชื่อใบอนุญาต</button>
               </div>
               <div class="text-right" [column]="13" style="padding: 0 1rem">
                    <app-button-custom (click)="addNewLicense()" text="เพิ่มใบอนุญาต"></app-button-custom>
               </div>
               <div [column]="3" [ngClass]="{'menu-hide': menuhide}">
                    <div class="ui vertical pointing menu" style="width: auto">
                         <div class="item">
                              <div class="header text-center">รายชื่อใบอนุญาต</div>
                         </div>
                         <a class="item" *ngIf="listLicensesA && listLicensesA.length == 0">
                              <div grid>
                                   <div [column]="16" class="text-center" style="padding: 0.8em .5em;">
                                        ไม่พบข้อมูลใบอนุญาต
                                   </div>
                              </div>
                         </a>
                         <a class="item"
                              [ngClass]="{'active': listLicense.oaCuslicenseId == formLicense.get('oaCuslicenseId').value}"
                              *ngFor="let listLicense of listLicensesA let i = index;"
                              (click)="loadLicense(listLicense.oaCuslicenseId)">
                              <div grid>
                                   <div [column]="12" style="padding: 0.8em .5em;">
                                        {{listLicense.licenseNo}}
                                   </div>
                                   <div [column]="4" style="padding: 0;left: .25em;position:relative;top: .48em;">
                                        <a class="ui green label" style="position: absolute;right: .5em;"
                                             *ngIf="i==0">active</a>
                                   </div>
                              </div>
                         </a>
                    </div>
               </div>
               <div [column]="menuhide ? 16 : 13" id="form">
                    <div form *ngIf="!formLicense.get('oaCuslicenseId').value">
                         <h3 class="ui header">
                              <i class="exclamation icon"></i>
                              <div class="content">
                                   ไม่พบข้อมูลใบอนุญาต
                              </div>
                         </h3>
                    </div>
                    <div form [formGroup]="formLicense"
                         [ngClass]="{'hidden': !formLicense.get('oaCuslicenseId').value}">
                         <div inline>
                              <div field [col]="3">
                                   <label class="full-width text-right">เลขขอรับที่</label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input fluid">
                                        <input type="text" formControlName="receiveNo" class="custom-readonly" readonly>
                                   </div>
                              </div>
                              <div field [col]="3">
                                   <label class="full-width text-right">วันที่</label>
                              </div>
                              <div field [col]="5" [ngClass]="{'disabled': true}">
                                   <div class="ui calendar" style="width:100%" id="receiveDate">
                                        <div class="ui input left icon">
                                             <i class="calendar alter nate outline icon"></i>
                                             <input type="calendar" placeholder="วว/ดด/ปปปป" autocomplete="off" readonly>
                                        </div>
                                   </div>
                              </div>
                         </div>
                         <div inline>
                              <div field [col]="3">
                                   <label class="full-width text-right">โรงอุตสาหกรรมสุรา ตั้งอยู่</label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input fluid">
                                        <input type="text" formControlName="licenseAddress" class="custom-readonly" readonly>
                                   </div>
                              </div>
                              <div field [col]="3">
                                   <label
                                        class="full-width text-right">ระยะเวลาดำเนินการก่อสร้างโรงอุตสาหกรรมสุรา</label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input fluid">
                                        <input type="text" formControlName="createdFactTime" class="custom-readonly" readonly>
                                   </div>
                              </div>
                         </div>
                         <div inline>
                              <div field [col]="3">
                                   <label class="full-width text-right">กำหนดเวลาเปิดดำเนินการ วันที่</label>
                              </div>
                              <div field [col]="5" [ngClass]="{'disabled': true}">
                                   <div class="ui calendar" style="width:100%" id="usedDate">
                                        <div class="ui input left icon">
                                             <i class="calendar alter nate outline icon"></i>
                                             <input type="calendar" placeholder="วว/ดด/ปปปป" autocomplete="off" readonly>
                                        </div>
                                   </div>
                              </div>
                              <div field [col]="3">
                                   <label class="full-width text-right">ได้ชำระเงินค่าธรรมเนียมใบอนุญาต จำนวน</label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input fluid">
                                        <input type="text" class="custom-readonly" numberOnly formControlName="money" readonly>
                                   </div>
                              </div>
                         </div>
                         <div inline>
                              <table class="ui mini very compact celled table">
                                   <thead>
                                        <tr class="text-center">
                                             <th style="width: 64px">ลำดับ</th>
                                             <th>ชื่อจากผู้ประกอบการอุตสาหกรรม / ผู้นำเข้า / ตัวแทน (ระบุชื่อ)</th>
                                             <th>ชนิดสุรา</th>
                                             <th>จำนวนที่อนุญาตต่อปี (ลิตร/กิโลกรัม)</th>
                                        </tr>
                                   </thead>
                                   <tbody formArrayName="details">
                                        <tr [formGroupName]="i"
                                             *ngFor="let detail of formLicense.get('details')['controls']; let i = index">
                                             <td class="text-center">{{ i+1 }}</td>
                                             <td class="text-left">{{ detail.get('name').value }}</td>
                                             <td class="text-left">{{ detail.get('type').value }}</td>
                                             <td class="text-right">
                                                  {{ detail.get('amount').value | decimalFormat: "###,###" }} ลิตร</td>
                                        </tr>
                                   </tbody>
                                   <tfoot>
                                        <tr>
                                             <th class="text-right" colspan="2">
                                                  รวม
                                             </th>
                                             <th></th>
                                             <th class="text-right">{{ sumOfLitre | decimalFormat: "###,###" }} ลิตร
                                             </th>
                                        </tr>
                                   </tfoot>
                              </table>
                         </div>
                         <div inline>
                              <div field [col]="3">
                                   <label class="full-width text-right">
                                        เจ้าหน้าที่
                                   </label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="rateName" formControlName="operateName"
                                             class="custom-readonly" readonly>
                                   </div>
                              </div>
                              <div field [col]="3">
                                   <label class="full-width text-right">
                                        ความเห็นเจ้าหน้าที่
                                   </label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="operateRemark" formControlName="operateRemark"
                                             class="custom-readonly" readonly>
                                   </div>
                              </div>
                         </div>
                         <div inline>
                              <div field [col]="3">
                                   <label class="full-width text-right">
                                        ผู้อนุญาต
                                   </label>
                              </div>
                              <div field [col]="5">
                                   <div class="ui input">
                                        <input type="text" name="approveName" formControlName="approveName"
                                             class="custom-readonly" readonly>
                                   </div>
                              </div>
                              <div field [col]="3">
                                   <label class="full-width text-right">
                                        การอนุญาต
                                   </label>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="approve" formControlName="approve" disabled value="Y">
                                        <label>อนุญาต</label>
                                   </div>
                              </div>
                              <div field [col]="0">
                                   <div class="ui radio checkbox">
                                        <input type="radio" name="approve" formControlName="approve" disabled value="N">
                                        <label>ไม่อนุญาต</label>
                                   </div>
                              </div>
                         </div>
                    </div>
               </div>
               <div [column]="16">
                    <div form>
                         <div inline>
                              <div class="btn text-center center-all" field>
                                   <app-button-edit *ngIf="formLicense.get('oaCuslicenseId').value" (click)="edit()">
                                   </app-button-edit>
                                   <app-button-back (click)="back()"></app-button-back>
                              </div>
                         </div>
                    </div>
               </div>
          </div>
     </segment>
</with-breadcrumb>